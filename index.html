<!doctype html>
<html lang="en" ng-app="ShopTill">
  <head>
    <meta charset="utf-8">
    <title>Shop Till You Drop</title>
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css">
    <script src="/bower_components/jquery/dist/jquery.js"></script>
    <script src="/bower_components/angular/angular.js"></script>
    <script src="/bower_components/angular-resource/angular-resource.js"></script>
<script src="https://js.stripe.com/v2/"></script>
    <script src="/bower_components/angular-stripe/release/angular-stripe.js"></script>
    <script src="node_modules/angular-ui-router/build/angular-ui-router.min.js"></script>
    <script src="app/js/app.js"></script>
    <script src="app/js/shopTillController.js"></script>
    <script src="app/js/services.js"></script>
  </head>

  <body ng-controller="ShopTillController as ctrl" >

  <div class="navbar navbar-inverse navbar-fixed-top">
    <h1 class="navbar-brand" href="/ "> Shop Till You Drop </h1>
<!--       <li ng-class="{active: $state.is('site.cart')}"> cart </li> -->
        <span class-"navbar-nav navbar-right" href="/cart">
          <h4>£{{ctrl.totalPrice}}</h4>
        </span>
  </div>

<!--   <div ui-view="modal" autoscroll="false"></div>
  </div> -->
  <section class="container">
      <div class="row"> 
    <h3 id="wf">Women’s Footwear</h3>
        <ul class="list-group col-lg-2 col-sm-3 col-xs-4" ng-repeat="item in ctrl.inventory | filter: { category:'Women’s Footwear'}">
          <li class="list-group-item">
            <p>Name: {{item.name}} </p>
            <p>Price: £{{item.price}} </p>
            <p>Quantity: {{item.quantity}} </p>
            <button type="button" id="{{ item.id }}" name="{{ item.name }}" price="{{ item.price }}" quantity="1" quantity-max="30" data="item" ng-click="ctrl.addItemToCart(item)">Add to Cart</button>
          </li>
        </ul>
      </div>
  </section>

  <section class="container">
      <div class="row"> 
    <h3>Women’s Casualwear</h3>
      <ul class="list-group col-lg-2 col-sm-3 col-xs-4" ng-repeat="item in ctrl.inventory | filter: { category:'Women’s Casualwear'}">
        <li class="list-group-item">
          <p>Name: {{item.name}} </p>
          <p>Price: £{{item.price}} </p>
          <p>Quantity: {{item.quantity}} </p>
          <button type="button" id="{{ item.id }}" name="{{ item.name }}" price="{{ item.price }}" quantity="1" quantity-max="30" data="item" ng-click="ctrl.addItemToCart(item)">Add to Cart</button>
        </li>
      </ul>
    </div>
    </section>

   <section class="container">
      <div class="row"> 
    <h3>Women’s Formalwear</h3>
      <ul class="list-group col-lg-2 col-sm-3 col-xs-4" ng-repeat="item in ctrl.inventory | filter: { category:'Women’s Formalwear'}">
        <li class="list-group-item">
          <p>Name: {{item.name}} </p>
          <p>Price: £{{item.price}} </p>
          <p>Quantity: {{item.quantity}} </p>
          <button type="button" id="{{ item.id }}" name="{{ item.name }}" price="{{ item.price }}" quantity="1" quantity-max="30" data="item" ng-click="ctrl.addItemToCart(item)">Add to Cart</button>
        </li>
      </ul>
    </div>
    </section>

    <section class="container">
      <div class="row"> 
      <h3>Men’s Footwear</h3>
        <ul class="list-group col-lg-2 col-sm-3 col-xs-4" ng-repeat="item in ctrl.inventory | filter: { category:'Men’s Footwear'}">
          <li class="list-group-item">
            <p>Name: {{item.name}} </p>
            <p>Price: £{{item.price}} </p>
            <p>Quantity: {{item.quantity}} </p>
            <button type="button" id="{{ item.id }}" name="{{ item.name }}" price="{{ item.price }}" quantity="1" quantity-max="30" data="item" ng-click="ctrl.addItemToCart(item)">Add to Cart</button>
          </li>
        </li>
      </ul>
    </div>
    </section>

    <section class="container">
      <div class="row"> 
      <h3>Men’s Casualwear</h3>
        <ul class="list-group col-lg-2 col-sm-3 col-xs-4" ng-repeat="item in ctrl.inventory | filter: { category:'Men’s Casualwear'}">
          <li class="list-group-item">
            <p>Name: {{item.name}} </p>
            <p>Price: £{{item.price}} </p>
            <p>Quantity: {{item.quantity}} </p>
            <button type="button" id="{{ item.id }}" name="{{ item.name }}" price="{{ item.price }}" quantity="1" quantity-max="30" data="item" ng-click="ctrl.addItemToCart(item)">Add to Cart</button>
          </li>
        </ul>
      </div>
    </section>

    <section class="container">
      <div class="row"> 
      <h3>Men’s Formalwear</h3>
        <ul class="list-group col-lg-2 col-sm-3 col-xs-4" ng-repeat="item in ctrl.inventory | filter: { category:'Men’s Formalwear'}">
          <li class="list-group-item">
            <p>Name: {{item.name}} </p>
            <p>Price: £{{item.price}} </p>
            <p>Quantity: {{item.quantity}} </p>
            <button type="button" id="{{ item.id }}" name="{{ item.name }}" price="{{ item.price }}" quantity="1" quantity-max="30" data="item" ng-click="ctrl.addItemToCart(item)">Add to Cart</button>
          </li>
        </ul>
      </div>
      </section>


<hr/>

  <section id="cart">

      <div class="alert alert-warning" role="alert" ng-show="ctrl.totalPrice === 0">
            Your cart is empty
        </div>

      <div  class="table-responsive col-lg-12" ng-show="ctrl.totalPrice > 0">

            <table class="table table-striped ">

                <thead>
                <tr>
                    <th></th>
                    <th>Name</th>
                    <th>Quantity</th>
                    <th>Amount</th>
                    <th>Total</th>
                </tr>
                </thead>
                <tfoot>
                  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>Subtotal:</td>
                    <td>£{{ ctrl.subTotalPrice }}</td>
                </tr>
                <tr>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td>Total:</td>
                  <td>£{{ ctrl.totalPrice }}</td>
                </tr>
                 <tr>
                    <td></td>
                    <td></td>
                    <td><button type="button" class="btn" id="checkoutButton" ng-click="ctrl.addFifteenVoucher()">Checkout</button></td>
                    <td></td>
                </tr>
                  <tr class="vouchers">
                    <td>
                      <button type="button" class="btn" id="five-pound-voucher" ng-click="ctrl.addFiveVoucher()">£5 off voucher
                      </button>
                      <button type="button" class="btn" id="ten-pound-voucher" ng-click="ctrl.addTenVoucher()">£10 off voucher
                      </button>
                      <button type="button" class="btn" id="fifteen-pound-voucher" ng-click="ctrl.addFifteenVoucher()">£15 off voucher
                      </button>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                </tfoot>
                <tbody>
                <tr ng-repeat="item in ctrl.shoppingCart track by $index">

                    <td><span ng-click="ctrl.removeItemFromCart(item)" class="glyphicon glyphicon-remove"></span></td>
                    <td>{{ item.name }}</td>
                    <td><span class="glyphicon glyphicon-minus" ng-class="{'disabled':item.quantity == 1}"
                              ng-click="item.setQuantity(-1, true)"></span>&nbsp;&nbsp;
                        {{ item.quantity }}&nbsp;&nbsp;
                        <span class="glyphicon glyphicon-plus" ng-click="item.setQuantity(1, true)"></span></td>
                    <td>£{{ item.price }}</td>
                    
                </tr>
                </tr>
                </tbody>
            </table>
    <section id="checkout"> 
      <form stripe-form="stripeCallback" name="checkoutForm">
        <input ng-model="number" placeholder="Card Number" payments-format="card" payments-validate="card" name="card" />
        <input ng-model="expiry" placeholder="Expiration" payments-format="expiry" payments-validate="expiry" name="expiry" />
        <input ng-model="cvc" placeholder="CVC" payments-format="cvc" payments-validate="cvc" name="cvc" />
        <button type="submit">Submit</button>
        <div ng-if="checkoutForm.card.$invalid"> Error: invalid card number! </div>
      </form>
    </section>
        </div>
      </section>
    
        
  </body>

  </html	